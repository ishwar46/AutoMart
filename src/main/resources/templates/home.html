<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1", shrink-to-fit=no>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.1.0/css/bootstrap.min.css/}" />
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/5.0.10/web-fonts-with-css/css/fontawesome-all.min.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/home.css}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.css">
<!--    <link rel="stylesheet" type="text/css" th:href="@{/css/newcard.css}" />-->

</head>

<body>
    <div class="d-flex flex-column">
        <div th:replace="fragments/header :: header"></div>
    </div>
        <div class="container-fluid mt-2" >
            <div id="myCarousel" class="carousel slide" data-ride="carousel" sec:authorize="hasRole('ROLE_USER')">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                </ol>

                <!-- Slides -->
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="images/custom.png" alt="Image 1">
                    </div>
                    <div class="carousel-item">
                        <img src="images/motul.png" alt="Image 2">
                    </div>
                    <div class="carousel-item">
                        <img src="images/custom.png" alt="Image 3">

                    </div>
                </div>

                <!-- Controls -->
                <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </a>
                <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </a>
            </div>

            <br>

            <div class="box-heading">
                <h2 class="cnit-h2">New Product</h2>
                <div class="float-right">
                    <a href="https://hardwarepasal.com/product?clearanceSaleProducts=1" style="color: #3f3f3f;" class="seeAll">See All &gt;</a>
                </div>
                <div class="clearfix"></div>
            </div>


            <div class="row">
                <div class="card-deck">
                    <div class="card" th:each="product : ${products}" th:if="${!products.isEmpty()}">
                        <div class="heart i">
                            <i class="fa fa-heart"></i>
                        </div>

                        <img class="card-img-top" th:if="${!product.getImageUrl().isEmpty()}" th:src="${product.getImageUrl()}" alt="Card image">
                        <div class="card-body">
                            <h4 class="card-title" th:text="${product.getName()}"></h4>
                            <p class="card-text" th:text="${product.getDescription()}"></p>
                        </div>
                        <div class="card-footer d-flex justify-content-between">
                            <p class="textprice mb-0" th:text="${product.getPrice()}"></p>
                            <div class="d-flex justify-content-end">
                                <sec:authorize sec:authorize="hasRole('ROLE_ADMIN')">
                                    <button class="btn mr-1">
                                        <a th:href="@{'product/delete/' + ${product.getId()}}" class="text-dark">Edit</a>
                                    </button>
                                    <button class="btn">
                                        <a th:href="@{'product/edit/' + ${product.getId()}}" class="text-dark">Delete</a>
                                    </button>
                                </sec:authorize>

                                <sec:authorize sec:authorize="hasRole('ROLE_USER')">
                                    <form th:action="@{/cart/add/{id}(id=${product.id})}" method="post">
                                        <div class="buttons">
                                            <button type="submit">Add to cart</button>
                                        </div>
                                    </form>
                                </sec:authorize>

                                <!--                            <sec:authorize sec:authorize="hasRole('ROLE_USER')">-->
                                <!--                                <a th:href="${'/cart/add/' + product.getId()}" class="btn btn-primary" th:text="#{product.add}"></a>-->
                                <!--                            </sec:authorize>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<!--Footer-->
<!--<footer>-->
<!--    <div class="footer-newsletter">-->
<!--        <div class="container">-->
<!--            <div class="row">-->
<!--                <div class="col-lg-6">-->
<!--                    <h4>Our Newsletter</h4>-->
<!--                    <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>-->
<!--                </div>-->
<!--                <div class="col-lg-6">-->
<!--                    <form action="" method="post"> <input type="email" name="email"><input type="submit"-->
<!--                                                                                           value="Subscribe"> </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="footer-top">-->
<!--        <div class="container">-->
<!--            <div class="row">-->
<!--                <div class="col-lg-3 col-md-6 footer-links">-->
<!--                    <h4>Useful Links</h4>-->
<!--                    <ul>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="col-lg-3 col-md-6 footer-links">-->
<!--                    <h4>Our Services</h4>-->
<!--                    <ul>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Web Design</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Web Development</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Product Management</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Marketing</a></li>-->
<!--                        <li><i class="bx bx-chevron-right"></i> <a href="#">Graphic Design</a></li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="col-lg-3 col-md-6 footer-contact">-->
<!--                    <h4>Contact Us</h4>-->
<!--                    <p> A108 Adam Street <br> New York, NY 535022<br> United States <br><br> <strong>Phone:</strong>-->
<!--                        +1 5589 55488 55<br> <strong>Email:</strong> info@example.com<br> </p>-->
<!--                </div>-->
<!--                <div class="col-lg-3 col-md-6 footer-info">-->
<!--                    <h3>About DevVE</h3>-->
<!--                    <p>Cras fermentum odio eu feugiat lide par naso tierra. Justo eget nada terra videa magna derita-->
<!--                        valies darta donna mare fermentum iaculis eu non diam phasellus.</p>-->
<!--                    <div class="social-links mt-3"> <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>-->
<!--                        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a> <a href="#"-->
<!--                                                                                            class="instagram"><i class="bx bxl-instagram"></i></a> <a href="#" class="linkedin"><i-->
<!--                                class="bx bxl-linkedin"></i></a> </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="container">-->
<!--        <div class="copyright"> &copy; Copyright <strong><span>DevVE</span></strong>. All Rights Reserved </div>-->
<!--        <div class="credits"> Designed by <a href="#">SalvadorDevVE</a> </div>-->
<!--    </div>-->
<!--</footer>-->

<!--//Link Js-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script th:href="@{/js/main.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/owl.carousel.js"></script>
</body>
</html>